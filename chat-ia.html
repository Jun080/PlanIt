<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <title>Chat IA simple</title>
        <!-- LIEN API -->
        <script src="https://js.puter.com/v2/"></script>
        <style>
            body {
                font-family: sans-serif;
                padding: 0.5rem;
                background: #d6d6d6;
            }
            input,
            button {
                padding: 10px;
                font-size: 16px;
            }
            #response {
                margin-top: 20px;
                padding: 10px;
                background: white;
                border-radius: 5px;
            }
        </style>
    </head>
    <body>
        <header>
            <h2>Parle à une IA</h2>
        </header>
        <main>
            <input type="text" id="userInput" placeholder="Pose ta question ici..." size="50" />
            <button id="btn-send">Envoyer</button>
            <pre>
      <div id="response"></div>    
    </pre>
        </main>

        <script>
            const btnSend = document.getElementById("btn-send");
            btnSend.addEventListener("click", sendMessage);

            async function sendMessage() {
                const input = document.getElementById("userInput").value;
                const responseBox = document.getElementById("response");
                responseBox.textContent = "⏳ Réponse en cours...";

                try {
                    const result = await puter.ai.chat(input, {
                        model: "gpt-5-nano",
                    });
                    responseBox.textContent = result;
                } catch (error) {
                    responseBox.textContent = "❌ Erreur : " + error.message;
                }
            }
        </script>
    </body>
</html>
